---
title: Import & Export
description: Import and export memories in various formats
---

# Import & Export

## generate

Write agent config files directly to disk. Unlike `export` (which prints to stdout), `generate` creates the files for you.

```bash
npx memctl generate
```

### Flags

| Flag | File written | Format |
| ---- | ------------ | ------ |
| _(none)_ | `AGENTS.md` | agents_md (always written) |
| `--claude` | `CLAUDE.md` | agents_md |
| `--gemini` | `GEMINI.md` | agents_md |
| `--cursor` | `.cursorrules` | cursorrules |
| `--copilot` | `.github/copilot-instructions.md` | agents_md |
| `--all` | All of the above | |
| `--link` | Symlink to `AGENTS.md` instead of copying | |

Flags are combinable. `--all` is shorthand for `--claude --gemini --cursor --copilot`.

Directories are created automatically (e.g. `.github/`).

### Examples

```bash
# AGENTS.md only
npx memctl generate

# AGENTS.md + CLAUDE.md
npx memctl generate --claude

# AGENTS.md + CLAUDE.md + .cursorrules
npx memctl generate --claude --cursor

# All agent config files
npx memctl generate --all

# All files, but symlink CLAUDE.md, GEMINI.md, and copilot-instructions.md to AGENTS.md
npx memctl generate --all --link
```

### Example output

```
Wrote 1 file(s): AGENTS.md
```

With `--all`:

```
Wrote 5 file(s): AGENTS.md, CLAUDE.md, GEMINI.md, .cursorrules, .github/copilot-instructions.md
```

With `--all --link`:

```
Wrote 2 file(s): AGENTS.md, .cursorrules
Linked 3 file(s): CLAUDE.md -> AGENTS.md, GEMINI.md -> AGENTS.md, .github/copilot-instructions.md -> AGENTS.md
```

### --link

`CLAUDE.md`, `GEMINI.md`, and `copilot-instructions.md` all use the same `agents_md` format, so their content is identical to `AGENTS.md`. With `--link`, these files become symlinks to `AGENTS.md` instead of separate copies. This avoids content drift and keeps a single source of truth.

`.cursorrules` uses a different format (`cursorrules`) so it is always written as a real file.

### Difference from export

`export` prints to stdout so you can pipe or redirect it. `generate` writes files to disk in a single step. Use `export` when you need to pipe into another tool or customize the output path. Use `generate` when you want the standard files written with no extra flags.

## export

Export memories to stdout in various formats.

```bash
npx memctl export [format]
```

| Format        | Description                |
| ------------- | -------------------------- |
| `agents_md`   | AGENTS.md format (default) |
| `cursorrules` | .cursorrules format        |
| `json`        | Raw JSON                   |

### Examples

```bash
# Export as AGENTS.md
npx memctl export agents_md > AGENTS.md

# Export as .cursorrules
npx memctl export cursorrules > .cursorrules

# Export as JSON for scripting
npx memctl export json > backup.json
```

### Use with Aider

```bash
npx memctl export agents_md > AGENTS.md
aider --read AGENTS.md
```

## import

Import memories from a file. Headings become separate memory entries.

```bash
npx memctl import <file>
```

### How it works

1. Reads the file
2. Splits by markdown headings (`#`, `##`, `###`)
3. Each section becomes a memory with key `agent/context/imported/<slug>`
4. Metadata includes the source filename and original heading

### Examples

```bash
# Import an AGENTS.md
npx memctl import AGENTS.md

# Import a .cursorrules file
npx memctl import .cursorrules

# Import Copilot instructions
npx memctl import .github/copilot-instructions.md
```

### Output

```
Imported 8 sections from AGENTS.md
```

### MCP tool equivalent

The `import_export` MCP tool provides the same functionality for agents:

```
Tool: import_export
Action: agents_md_import | cursorrules_import | export_agents_md | export_memories
```

Use `dryRun: true` to preview what would be imported.
