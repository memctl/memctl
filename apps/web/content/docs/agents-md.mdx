---
title: AGENTS.md Docs
description: Short copy-paste AGENTS.md template for mem/ctl MCP usage
---

# AGENTS.md

Copy this into your repository root as `AGENTS.md`.

```md
# AGENTS.md

## memctl MCP Rules

MCP server name is `memctl`.
Use `memctl` for all project memory:
- memory/history of previous sessions
- coding style and conventions
- architecture and technical decisions
- testing rules and constraints
- branch plans and handoff notes

Do not keep important project context only in chat.

## Session Start (always)

1. `context.bootstrap`
2. `session.start` with `autoExtractGit=true`
3. `activity.memo_read`
4. `branch.get`

If the project has not been scanned yet (or file map is stale), run:
- `repo.scan` with `saveAsContext=true`

## Before Coding

Read relevant context:
- `context.functionality_get` for: `coding_style`, `architecture`, `testing`, `constraints`, `workflow`
- `context.context_for` for files you are touching
- `branch.get` for current branch plan

## While Coding

When user gives new conventions/decisions, store immediately:
- `context.functionality_set` for structured project rules
- `memory.store` for one-off decisions or references

For memory/history search:
- `memory.search`
- `memory.list`

After each meaningful task, save branch progress:
- `branch.set`
- update `status`
- update checklist items (`done: true/false`)
- add short notes about what is finished and what is next

## End Of Session

1. Save final branch progress with `branch.set`
2. Leave handoff note (`activity.memo_leave`) if anything is pending
3. End session with summary (`session.end`)

## Context Types To Use

- `coding_style`
- `architecture`
- `testing`
- `constraints`
- `workflow`
- `lessons_learned`
- `folder_structure`
- `file_map`
- `branch_plan`
```

Need full tool details? See [MCP Tools](/docs/mcp-server/tools).
